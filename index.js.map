{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios'; // Імпорт бібліотеки axios для виконання HTTP-запитів\n\n// Експортуємо функцію, яка приймає пошуковий запит (query)\nexport function getImagesByQuery(query) {\n  const API_KEY = '54182222-bc9f62244d35838f397753c37'; // Ваш персональний ключ API Pixabay\n  const BASE_URL = 'https://pixabay.com/api/'; // Базова адреса API Pixabay\n\n  // Налаштування параметрів запиту (query parameters)\n  // Ці параметри будуть додані до URL (наприклад: ?key=...&q=cat&image_type=photo...)\n  const searchParams = {\n    params: {\n      key: API_KEY, // Ключ доступу (обов'язково)\n      q: query, // Слово для пошуку, яке ввів користувач\n      image_type: 'photo', // Шукаємо тільки фотографії\n      orientation: 'horizontal', // Орієнтація зображення - горизонтальна\n      safesearch: true, // Увімкнення безпечного пошуку (фільтрація контенту 18+)\n      per_page: 9, // Кількість зображень, що повертаються за один запит\n    },\n  };\n\n  // Виконуємо GET-запит на сервер, передаючи базову URL та об'єкт налаштувань\n  return axios.get(BASE_URL, searchParams).then(response => {\n    // Якщо запит успішний, повертаємо дані відповіді (response.data)\n    // response.data містить масив зображень (hits) та загальну кількість (totalHits)\n    return response.data;\n  });\n}\n\n// console.log(getImagesByQuery(\"dog\"));\n","import SimpleLightbox from 'simplelightbox'; // Імпорт бібліотеки для модального вікна (галереї)\nimport 'simplelightbox/dist/simple-lightbox.min.css'; // Імпорт CSS стилів для SimpleLightbox\n\n// Ініціалізація бібліотеки SimpleLightbox\n// Створюємо екземпляр один раз поза функціями, щоб не перестворювати його при кожному рендері\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captions: true, // Вмикаємо підписи під зображеннями\n  captionsData: 'alt', // Текст підпису береться з атрибута 'alt'\n  captionDelay: 250, // Затримка появи підпису (250 мс)\n});\n\n// Отримуємо посилання на DOM-елементи\nconst galleryContainer = document.querySelector('.gallery'); // Контейнер (ul), куди будемо додавати картинки\nconst loader = document.querySelector('.loader'); // Елемент лоадера (індикатор завантаження)\n\n// Функція для створення розмітки галереї\nexport function createGallery(images) {\n  // Створюємо HTML-рядок з карток зображень, використовуючи метод map\n  const markup = images\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img \n          class=\"gallery-image\" \n          src=\"${image.webformatURL}\" \n          alt=\"${image.tags}\" \n        />\n      </a>\n\n      <div class=\"inf-container\">\n  <ul class=\"inf-list\">\n    <li class=\"inf-item\">\n      <h3>Likes</h3>\n      <span>${image.likes}</span>\n    </li>\n\n     <li class=\"inf-item\">\n      <h3>Views</h3>\n      <span>${image.views}</span>\n    </li>\n\n     <li class=\"inf-item\">\n      <h3>Comments</h3>\n      <span>${image.comments}</span>\n    </li>\n\n     <li class=\"inf-item\">\n      <h3>Downloads</h3>\n      <span>${image.downloads}</span>\n    </li>\n\n  </ul>\n</div>\n      </li>`\n    )\n    .join(''); // Об'єднуємо масив рядків в один суцільний рядок HTML\n\n  // Вставляємо згенеровану розмітку в кінець контейнера галереї\n  galleryContainer.insertAdjacentHTML('beforeend', markup);\n  \n  // Оновлюємо SimpleLightbox, щоб він \"побачив\" нові додані зображення\n  // Це обов'язково робити після додавання нових елементів у DOM\n  lightbox.refresh();\n}\n\n// Функція для очищення галереї перед новим пошуком\nexport function clearGallery() {\n  galleryContainer.innerHTML = ''; // Видаляємо весь HTML вміст контейнера\n}\n\n// Функція для показу лоадера\nexport const showLoader = () => {\n  // Видаляємо клас 'is-hidden', щоб зробити лоадер видимим\n  loader.classList.remove('is-hidden');\n};\n\n// Функція для приховування лоадера\nexport const hideLoader = () => {\n  // Додаємо клас 'is-hidden', щоб сховати лоадер\n  loader.classList.add('is-hidden');\n};\n","import iziToast from 'izitoast'; // Імпорт бібліотеки iziToast для відображення повідомлень\nimport 'izitoast/dist/css/iziToast.min.css'; // Імпорт стилів бібліотеки iziToast\n\n// Імпорт функції для запиту на сервер з файлу pixabay-api.js\nimport { getImagesByQuery } from './js/pixabay-api.js';\n// Імпорт функцій для роботи з інтерфейсом (DOM) з файлу render-functions.js\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nconst form = document.querySelector('.form'); // Отримання елемента форми з DOM\n\n// Додавання слухача події 'submit' на форму\nform.addEventListener('submit', event => {\n  event.preventDefault(); // Скасування перезавантаження сторінки при відправці форми\n\n  const input = event.target.querySelector('input'); // Пошук поля вводу всередині форми\n  const query = input.value.trim(); // Отримання введеного тексту без зайвих пробілів\n\n  // Перевірка: якщо поле порожнє, виводимо попередження\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning', // Заголовок попередження\n      message: 'Please enter a search query!', // Текст попередження\n    });\n    return; // Перериваємо виконання функції\n  }\n  \n  // 1. Підготовка інтерфейсу: очищення галереї та показ лоадера\n  clearGallery();\n  showLoader();\n\n  // 2. Виконання запиту на сервер за введеним словом\n  getImagesByQuery(query)\n    .then(data => { // Успішна відповідь від сервера\n      // Перевірка: якщо масив зображень порожній\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error', // Заголовок помилки\n          message:\n            'Sorry, there are no images matching your search query. Please try again!', // Текст помилки\n          position: 'topRight', // Позиція повідомлення\n        });\n        return; // Вихід, якщо нічого не знайдено\n      }\n      // Якщо зображення є — викликаємо функцію рендеру\n      createGallery(data.hits); \n    })\n    .catch(error => { // Обробка помилки запиту\n      console.error(error); // Вивід помилки в консоль\n      iziToast.error({\n        message: 'Something went wrong! Please try again later.', // Повідомлення для користувача\n        position: 'topRight', // Розташування повідомлення\n      });\n    })\n    .finally(() => { // Виконується завжди (успіх чи помилка)\n      hideLoader(); // Ховаємо лоадер\n      form.reset(); // Очищуємо форму\n    });\n});\n"],"names":["getImagesByQuery","query","API_KEY","BASE_URL","searchParams","axios","response","lightbox","SimpleLightbox","galleryContainer","loader","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","form","event","iziToast","data","error"],"mappings":"owBAGO,SAASA,EAAiBC,EAAO,CACtC,MAAMC,EAAU,qCACVC,EAAW,2BAIXC,EAAe,CACnB,OAAQ,CACN,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACX,CACL,EAGE,OAAOI,EAAM,IAAIF,EAAUC,CAAY,EAAE,KAAKE,GAGrCA,EAAS,IACjB,CACH,CCrBA,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAGD,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EAGxC,SAASC,EAAcC,EAAQ,CAEpC,MAAMC,EAASD,EACZ,IACCE,GACE;AAAA,sCAC8BA,EAAM,aAAa;AAAA;AAAA;AAAA,iBAGxCA,EAAM,YAAY;AAAA,iBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAQbA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,cAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,cAKXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,cAKdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,YAMxB,EACA,KAAK,EAAE,EAGVL,EAAiB,mBAAmB,YAAaI,CAAM,EAIvDN,EAAS,QAAO,CAClB,CAGO,SAASQ,GAAe,CAC7BN,EAAiB,UAAY,EAC/B,CAGO,MAAMO,EAAa,IAAM,CAE9BN,EAAO,UAAU,OAAO,WAAW,CACrC,EAGaO,EAAa,IAAM,CAE9BP,EAAO,UAAU,IAAI,WAAW,CAClC,ECpEMQ,EAAO,SAAS,cAAc,OAAO,EAG3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EAGpB,MAAMlB,EADQkB,EAAM,OAAO,cAAc,OAAO,EAC5B,MAAM,KAAI,EAG9B,GAAI,CAAClB,EAAO,CACVmB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CAGDL,IACAC,IAGAhB,EAAiBC,CAAK,EACnB,KAAKoB,GAAQ,CAEZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CAEDT,EAAcU,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBF,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbH,IACAC,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}